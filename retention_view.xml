<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>

  <!-- *************************** -->
  <!-- * Retention Configuration * -->
  <!-- *************************** -->
  <!-- Form View for retention.retention -->
  <record id="view_retention_retention_form" model="ir.ui.view">
    <field name="name">retention.retention.form</field>
    <field name="model">retention.retention</field>
    <field name="type">form</field>
    <field name="arch" type="xml">
      <form string="Retentions">
        <group colspan="4" col="6">
          <separator colspan="6" string="Configuration"/>
          <field name="name" select="1"/>
          <field name="tax_id" select="1"/>
          <field name="jurisdiccion" select="1"/>
          <field name="type_tax_use" select="1"/>
          <field name="state_id" select="1" attrs="{'invisible':[('jurisdiccion','!=','provincial')], 'required':[('jurisdiccion','=','provincial')]}"/>
        </group>
      </form>
    </field>
  </record>

  <!-- Tree View for retention.retention -->
  <record id="view_retention_retention_tree" model="ir.ui.view">
    <field name="name">retention.retention.tree</field>
    <field name="model">retention.retention</field>
    <field name="type">tree</field>
    <field name="arch" type="xml">
      <tree string="Retentions">
        <field name="name" />
        <field name="tax_id" />
        <field name="type_tax_use" />
        <field name="state_id" />
      </tree>
    </field>
  </record>

  <!--Window Action para Retentions -->
  <record model="ir.actions.act_window" id="action_retention_retention_tree">
    <field name="name">Retentions</field>
    <field name="type">ir.actions.act_window</field>
    <field name="res_model">retention.retention</field>
    <field name="help">Here you can define Retentions and their configuration to be used in Customer Payents or Supplier Payments</field>
    <field name="view_type">form</field>
    <field name="view_mode">tree,form</field>
  </record>

  <record id="action_retention_retention_tree_view" model="ir.actions.act_window.view">
    <field eval="20" name="sequence"/>
    <field name="view_mode">tree</field>
    <field name="view_id" ref="view_retention_retention_tree"/>
    <field name="act_window_id" ref="action_retention_retention_tree"/>
  </record>

  <menuitem id="retention_retention_menu" name="Retentions" parent="account.next_id_27" sequence="20" action="action_retention_retention_tree"/>

  </data>
</openerp>

